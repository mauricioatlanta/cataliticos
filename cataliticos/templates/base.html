<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>{% block title %}CatalÃ­ticos{% endblock %}</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    {% load static %}
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link rel="stylesheet" href="{% static 'css/styles.css' %}">
</head>
<body class="bg-gray-900 text-white font-sans overflow-visible">

    <style>
    html, body {
      min-height: 100vh;
      height: 100%;
    }
    body {
      background: linear-gradient(120deg, #0f2027 0%, #2c5364 100%) !important;
      background-color: #0f2027 !important;
    }
    #futuristic-bg {
      position: fixed !important;
      top: 0; left: 0; width: 100vw; height: 100vh;
      z-index: 0 !important;
      pointer-events: none;
      background: transparent !important;
    }
    main, .glass, .container {
      background: transparent !important;
    }
    </style>

    <!-- Encabezado fijo y moderno -->
    <header class="bg-black bg-opacity-90 backdrop-blur-md shadow-md fixed w-full z-50 top-0">
        <div class="max-w-7xl mx-auto flex items-center justify-between px-4 py-3">
            <a href="{% url 'cataliticos:dashboard' %}" class="flex items-center space-x-3">
                <img src="{% static 'img/logo.png' %}" alt="Logo" class="h-10 w-auto">
                <span class="text-xl font-bold tracking-wide text-cyan-400">CatalÃ­ticos</span>
            </a>

            <!-- MenÃº Desktop -->
            <nav class="hidden md:flex space-x-6 text-sm items-center">
                {% if user.is_authenticated %}
                  <a href="{% url 'cataliticos:consulta_catalitico' %}" class="hover:text-cyan-400 transition">ğŸ” Buscar</a>
                  <a href="{% url 'cataliticos:crear' %}" class="hover:text-cyan-400 transition">â• Agregar</a>
                  <a href="{% url 'cataliticos:listado_compras' %}" class="hover:text-cyan-400 transition">ğŸ§¾ Compras</a>
                  <a href="{% url 'cataliticos:dashboard' %}" class="hover:text-cyan-400 transition">ğŸ“Š Dashboard</a>
                  <a href="{% url 'cataliticos:reporte_fechas' %}" class="hover:text-cyan-400 transition">ğŸ“… Reporte por Fechas</a>
                  <span class="ml-4 text-cyan-300 font-semibold">ğŸ‘¤ {{ user.username }}</span>
                  <a href="{% url 'cataliticos:employee_logout' %}" class="ml-2 px-3 py-1 rounded bg-red-600 hover:bg-red-700 text-white font-bold transition">Salir</a>
                {% else %}
                  <a href="{% url 'cataliticos:employee_login' %}" class="ml-4 px-3 py-1 rounded bg-cyan-600 hover:bg-cyan-700 text-white font-bold transition">Acceder</a>
                {% endif %}
            </nav>

            <!-- MenÃº MÃ³vil -->
            <div class="md:hidden flex items-center">
              <button id="mobile-menu-btn" class="text-cyan-400 focus:outline-none focus:ring-2 focus:ring-cyan-400 p-2">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
                </svg>
              </button>
              <div id="mobile-menu" class="hidden absolute top-16 right-4 bg-black bg-opacity-95 rounded-lg shadow-lg py-4 px-6 space-y-4 z-[9999] min-w-[180px]">
                {% if user.is_authenticated %}
                  <a href="{% url 'cataliticos:consulta_catalitico' %}" class="block text-white hover:text-cyan-400">ğŸ” Buscar</a>
                  <a href="{% url 'cataliticos:crear' %}" class="block text-white hover:text-cyan-400">â• Agregar</a>
                  <a href="{% url 'cataliticos:listado_compras' %}" class="block text-white hover:text-cyan-400">ğŸ§¾ Compras</a>
                  <a href="{% url 'cataliticos:dashboard' %}" class="block text-white hover:text-cyan-400">ğŸ“Š Dashboard</a>
                  <a href="{% url 'cataliticos:reporte_fechas' %}" class="block text-white hover:text-cyan-400">ğŸ“… Reporte por Fechas</a>
                  <span class="block text-cyan-300 font-semibold">ğŸ‘¤ {{ user.username }}</span>
                  <a href="{% url 'cataliticos:employee_logout' %}" class="block mt-2 px-3 py-1 rounded bg-red-600 hover:bg-red-700 text-white font-bold transition">Salir</a>
                {% else %}
                  <a href="{% url 'cataliticos:employee_login' %}" class="block px-3 py-1 rounded bg-cyan-600 hover:bg-cyan-700 text-white font-bold transition">Acceder</a>
                {% endif %}
              </div>
            </div>
        </div>
    </header>

    <script>
    document.addEventListener('DOMContentLoaded', function() {
      const btn = document.getElementById('mobile-menu-btn');
      const menu = document.getElementById('mobile-menu');
      if(btn && menu) {
        btn.addEventListener('click', function(e) {
          e.stopPropagation();
          menu.classList.toggle('hidden');
        });
        document.addEventListener('click', function(e) {
          if (!menu.contains(e.target) && !btn.contains(e.target)) {
            menu.classList.add('hidden');
          }
        });
      }
    });
    </script>

    <main class="pt-20 px-4 md:px-10">
        {% block content %}{% endblock %}
    </main>

    <footer class="text-center text-sm text-gray-500 mt-12 py-6">
        &copy; {{ now|date:"Y" }} Atlanta Reciclajes - Todos los derechos reservados
    </footer>
</body>
</html>
